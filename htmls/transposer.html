<!DOCTYPE html>
<html lang="en">
<input type="button" id="ScrollText" style="background:#0000FF;color:white;position:fixed;" value="Scroll"/>
<input type="button" id="StopScrollText" style="background:#FF00FF;color:white;position:fixed;left:70px;" value="Stop"/>
<br>
<br>
<!--<label for="html">Speed:</label>-->
<textarea id="scrollSpeed" name="ScrollSpeedText" rows="1" cols="5" style="resize:none;border:2px solid lime;">0.02</textarea>
<br>
<br>
<input type="button" id="TransposeButton" style="background:#66BB55;color:white;" onclick="transposeChords()" value="Transpose"/>
<input type="button" id="FormatButton" style="background:#800000;color:white;" onclick="formatChordsText()" value="Format"/>
<input type="button" id="PrintText" style="background:#FF0000;color:white;" onclick="printTextArea()" value="Print"/>
<br>
<br>
	 <script type="text/javascript">

		// Add space after ')'
		function formatChordsText() {		
			var inputTextAreaElement = document.getElementById("inputTextArea");			

			var t = inputTextAreaElement.value.replaceAll(')', ') ');
			inputTextAreaElement.value = t;			
		}

		////////// Flat /////////
                ////// No Brackets /////
                // Major
		const chords_major_flat_in = ["Ab ", "Bb ", "Db ", "Eb ", "Gb "];
		const chords_major_flat_out = ["G# ", "A# ", "C# ", "D# ", "F# "];

                // Minor
		const chords_minor_flat_in = ["Abm ", "Bbm ", "Dbm ", "Ebm ", "Gbm "];
		const chords_minor_flat_out = ["G#m ", "A#m ", "C#m ", "D#m ", "F#m "];
                
		// Major 7
		const chords_major_7_flat_in = ["Ab7 ", "Bb7 ", "Db7 ", "Eb7 ", "Gb7 "];
		const chords_major_7_flat_out = ["G#7 ", "A#7 ", "C#7 ", "D#7 ", "F#7 "];

                // Minor 7
		const chords_minor_7_flat_in = ["Abm7 ", "Bbm7 ", "Dbm7 ", "Ebm7 ", "Gbm7 "];
		const chords_minor_7_flat_out = ["G#m7 ", "A#m7 ", "C#m7 ", "D#m7 ", "F#m7 "];

		////////// Flat /////////
                ////// Small Brackets /////
		// Major
		const chords_major_flat_in_small_brackets = ["(Ab)", "(Bb)", "(Db)", "(Eb)", "(Gb)"];
		const chords_major_flat_out_small_brackets = ["(G#)", "(A#)", "(C#)", "(D#)", "(F#)"];

		// Minor
		const chords_minor_flat_in_small_brackets = ["(Abm)", "(Bbm)", "(Dbm)", "(Ebm)", "(Gbm)"];
		const chords_minor_flat_out_small_brackets = ["(G#m)", "(A#m)", "(C#m)", "(D#m)", "(F#m)"];

		// Major 7
		const chords_major_7_flat_in_small_brackets = ["(Ab7)", "(Bb7)", "(Db7)", "(Eb7)", "(Gb7)"];
		const chords_major_7_flat_out_small_brackets = ["(G#7)", "(A#7)", "(C#7)", "(D#7)", "(F#7)"];

		// Minor 7
		const chords_minor_7_flat_in_small_brackets = ["(Abm7)", "(Bbm7)", "(Dbm7)", "(Ebm7)", "(Gbm7)"];
		const chords_minor_7_flat_out_small_brackets = ["(G#m7)", "(A#m7)", "(C#m7)", "(D#m7)", "(F#m7)"];

		////////// Flat /////////
                ////// Big Brackets /////
		// Major
		const chords_major_flat_in_big_brackets = ["[Ab]", "[Bb]", "[Db]", "[Eb]", "[Gb]"];
		const chords_major_flat_out_big_brackets = ["[G#]", "[A#]", "[C#]", "[D#]", "[F#]"];

		// Minor
		const chords_minor_flat_in_big_brackets = ["[Abm]", "[Bbm]", "[Dbm]", "[Ebm]", "[Gbm]"];
		const chords_minor_flat_out_big_brackets = ["[G#m]", "[A#m]", "[C#m]", "[D#m]", "[F#m]"];

		// Major 7
		const chords_major_7_flat_in_big_brackets = ["[Ab7]", "[Bb7]", "[Db7]", "[Eb7]", "[Gb7]"];
		const chords_major_7_flat_out_big_brackets = ["[G#7]", "[A#7]", "[C#7]", "[D#7]", "[F#7]"];

		// Minor 7
		const chords_minor_7_flat_in_big_brackets = ["[Abm7]", "[Bbm7]", "[Dbm7]", "[Ebm7]", "[Gbm7]"];
		const chords_minor_7_flat_out_big_brackets = ["[G#m7]", "[A#m7]", "[C#m7]", "[D#m7]", "[F#m7]"];

		////////// Regular /////////
		////// No Brackets /////
		// Major
		const chords_major = ["A ", "A# ", "B ", "C ", "C# ", "D ", "D# ", "E ", "F ", "F# ", "G ", "G# "];
		const chords_major_no_space = ["A", "A#", "B", "C", "C#", "D", "D#", "E", "F", "F#", "G", "G#"];

		// Minor
		const chords_minor = ["Am ", "A#m ", "Bm ", "Cm ", "C#m ", "Dm ", "D#m ", "Em ", "Fm ", "F#m ", "Gm ", "G#m "];
		const chords_minor_no_space = ["Am", "A#m", "Bm", "Cm", "C#m", "Dm", "D#m", "Em", "Fm", "F#m", "Gm", "G#m"];

		// Major 7
		const chords_major_7 = ["A7 ", "A#7 ", "B7 ", "C7 ", "C#7 ", "D7 ", "D#7 ", "E7 ", "F7 ", "F#7 ", "G7 ", "G#7 "];
		const chords_major_7_no_space = ["A7", "A#7", "B7", "C7", "C#7", "D7", "D#7", "E7", "F7", "F#7", "G7", "G#7"];

		// Minor 7
		const chords_minor_7 = ["Am7 ", "A#m7 ", "Bm7 ", "Cm7 ", "C#m7 ", "Dm7 ", "D#m7 ", "Em7 ", "Fm7 ", "F#m7 ", "Gm7 ", "G#m7 "];
		const chords_minor_7_no_space = ["Am7", "A#m7", "Bm7", "Cm7", "C#m7", "Dm7", "D#m7", "Em7", "Fm7", "F#m7", "Gm7", "G#m7"];

		////////// Regular /////////
		////// Small Brackets /////
		// Major
		const chords_major_small_brackets = ["(A) ", "(A#) ", "(B) ", "(C) ", "(C#) ", "(D) ", "(D#) ", "(E) ", "(F) ", "(F#) ", "(G) ", "(G#) "];
		const chords_major_small_brackets_no_space = ["(A)", "(A#)", "(B)", "(C)", "(C#)", "(D)", "(D#)", "(E)", "(F)", "(F#)", "(G)", "(G#)"];

		// Minor
		const chords_minor_small_brackets = ["(Am) ", "(A#m) ", "(Bm) ", "(Cm) ", "(C#m) ", "(Dm) ", "(D#m) ", "(Em) ", "(Fm) ", "(F#m) ", "(Gm) ", "(G#m) "];
		const chords_minor_small_brackets_no_space = ["(Am)", "(A#m)", "(Bm)", "(Cm)", "(C#m)", "(Dm)", "(D#m)", "(Em)", "(Fm)", "(F#m)", "(Gm)", "(G#m)"];

		// Major 7
		const chords_major_7_small_brackets = ["(A7) ", "(A#7) ", "(B7) ", "(C7) ", "(C#7) ", "(D7) ", "(D#7) ", "(E7) ", "(F7) ", "(F#7) ", "(G7) ", "(G#7) "];
		const chords_major_7_small_brackets_no_space = ["(A7)", "(A#7)", "(B7)", "(C7)", "(C#7)", "(D7)", "(D#7)", "(E7)", "(F7)", "(F#7)", "(G7)", "(G#7)"];

		// Minor 7
		const chords_minor_7_small_brackets = ["(Am7) ", "(A#m7) ", "(Bm7) ", "(Cm7) ", "(C#m7) ", "(Dm7) ", "(D#m7) ", "(Em7) ", "(Fm7) ", "(F#m7) ", "(Gm7) ", "(G#m7) "];
		const chords_minor_7_small_brackets_no_space = ["(Am7)", "(A#m7)", "(Bm7)", "(Cm7)", "(C#m7)", "(Dm7)", "(D#m7)", "(Em7)", "(Fm7)", "(F#m7)", "(Gm7)", "(G#m7)"];

		////////// Regular /////////
		////// Big Brackets /////
		// Major
		const chords_major_big_brackets = ["[A] ", "[A#] ", "[B] ", "[C] ", "[C#] ", "[D] ", "[D#] ", "[E] ", "[F] ", "[F#] ", "[G] ", "[G#] "];
		const chords_major_big_brackets_no_space = ["[A]", "[A#]", "[B]", "[C]", "[C#]", "[D]", "[D#]", "[E]", "[F]", "[F#]", "[G]", "[G#]"];

		// Minor
		const chords_minor_big_brackets = ["[Am] ", "[A#m] ", "[Bm] ", "[Cm] ", "[C#m] ", "[Dm] ", "[D#m] ", "[Em] ", "[Fm] ", "[F#m] ", "[Gm] ", "[G#m] "];
		const chords_minor_big_brackets_no_space = ["[Am]", "[A#m]", "[Bm]", "[Cm]", "[C#m]", "[Dm]", "[D#m]", "[Em]", "[Fm]", "[F#m]", "[Gm]", "[G#m]"];

		// Major 7
		const chords_major_7_big_brackets = ["[A7] ", "[A#7] ", "[B7] ", "[C7] ", "[C#7] ", "[D7] ", "[D#7] ", "[E7] ", "[F7] ", "[F#7] ", "[G7] ", "[G#7] "];
		const chords_major_7_big_brackets_no_space = ["[A7]", "[A#7]", "[B7]", "[C7]", "[C#7]", "[D7]", "[D#7]", "[E7]", "[F7]", "[F#7]", "[G7]", "[G#7]"];

		// Minor 7
		const chords_minor_7_big_brackets = ["[Am7] ", "[A#m7] ", "[Bm7] ", "[Cm7] ", "[C#m7] ", "[Dm7] ", "[D#m7] ", "[Em7] ", "[Fm7] ", "[F#m7] ", "[Gm7] ", "[G#m7] "];
		const chords_minor_7_big_brackets_no_space = ["[Am7]", "[A#m7]", "[Bm7]", "[Cm7]", "[C#m7]", "[Dm7]", "[D#m7]", "[Em7]", "[Fm7]", "[F#m7]", "[Gm7]", "[G#m7]"];


		// TransposeUp
		function transposeUp(inputText){
			var inputTextCpy = inputText;

			// Add space after \n
			inputTextCpy = inputTextCpy.replaceAll("\n"," \n");

			////// Flat /////
			////// Open /////
			// Major
                        for(let i =0; i<chords_major_flat_in.length; i++)
			{
     				inputTextCpy = inputTextCpy.replaceAll(chords_major_flat_in[i], chords_major_flat_out[i]);
			}

			// Minor
                        for(let i =0; i<chords_minor_flat_in.length; i++)
			{
     				inputTextCpy = inputTextCpy.replaceAll(chords_minor_flat_in[i], chords_minor_flat_out[i]);
			}

			// Major 7
                        for(let i =0; i<chords_major_7_flat_in.length; i++)
			{
     				inputTextCpy = inputTextCpy.replaceAll(chords_major_7_flat_in[i], chords_major_7_flat_out[i]);
			}

			// Minor 7
                        for(let i =0; i<chords_minor_7_flat_in.length; i++)
			{
     				inputTextCpy = inputTextCpy.replaceAll(chords_minor_7_flat_in[i], chords_minor_7_flat_out[i]);
			}

			////// Flat /////
			////// Small Brackets /////
			// Major 
                        for(let i =0; i<chords_major_flat_in_small_brackets.length; i++)
			{
     				inputTextCpy = inputTextCpy.replaceAll(chords_major_flat_in_small_brackets[i], chords_major_flat_out_small_brackets[i]);
			}

			// Minor
                        for(let i =0; i<chords_minor_flat_in_small_brackets.length; i++)
			{
     				inputTextCpy = inputTextCpy.replaceAll(chords_minor_flat_in_small_brackets[i], chords_minor_flat_out_small_brackets[i]);
			}

			// Major 7
                        for(let i =0; i<chords_major_7_flat_in_small_brackets.length; i++)
			{
     				inputTextCpy = inputTextCpy.replaceAll(chords_major_7_flat_in_small_brackets[i], chords_major_7_flat_out_small_brackets[i]);
			}

			// Minor 7
                        for(let i =0; i<chords_minor_7_flat_in_small_brackets.length; i++)
			{
     				inputTextCpy = inputTextCpy.replaceAll(chords_minor_7_flat_in_small_brackets[i], chords_minor_7_flat_out_small_brackets[i]);
			}

			////// Flat /////
			////// Big Brackets /////
			// Major
                        for(let i =0; i<chords_major_flat_in_big_brackets.length; i++)
			{
     				inputTextCpy = inputTextCpy.replaceAll(chords_major_flat_in_big_brackets[i], chords_major_flat_out_big_brackets[i]);
			}

			// Minor 
                        for(let i =0; i<chords_minor_flat_in_big_brackets.length; i++)
			{
     				inputTextCpy = inputTextCpy.replaceAll(chords_minor_flat_in_big_brackets[i], chords_minor_flat_out_big_brackets[i]);
			}

			// Major 7
                        for(let i =0; i<chords_major_7_flat_in_big_brackets.length; i++)
			{
     				inputTextCpy = inputTextCpy.replaceAll(chords_major_7_flat_in_big_brackets[i], chords_major_7_flat_out_big_brackets[i]);
			}

			// Minor  7
                        for(let i =0; i<chords_minor_7_flat_in_big_brackets.length; i++)
			{
     				inputTextCpy = inputTextCpy.replaceAll(chords_minor_7_flat_in_big_brackets[i], chords_minor_7_flat_out_big_brackets[i]);
			}

			////////// Regular /////////
			////// No Brackets /////			
			// Major
                        for(let i =0; i<chords_major.length; i++)
			{
     				inputTextCpy = inputTextCpy.replaceAll(chords_major[i], chords_major_no_space[(i+1)%chords_major_no_space.length]+"@@");
			}

			// Minor
			for(let i =0; i<chords_minor.length; i++)
			{
     				inputTextCpy = inputTextCpy.replaceAll(chords_minor[i], chords_minor_no_space[(i+1)%chords_minor_no_space.length]+"@@");
			}

			// Major 7
                        for(let i =0; i<chords_major_7.length; i++)
			{
     				inputTextCpy = inputTextCpy.replaceAll(chords_major_7[i], chords_major_7_no_space[(i+1)%chords_major_7_no_space.length]+"@@");
			}

			// Minor 7
			for(let i =0; i<chords_minor_7.length; i++)
			{
     				inputTextCpy = inputTextCpy.replaceAll(chords_minor_7[i], chords_minor_7_no_space[(i+1)%chords_minor_7_no_space.length]+"@@");
			}

			////////// Regular /////////
			////// Small Brackets /////
			// Major
                        for(let i =0; i<chords_major_small_brackets.length; i++)
			{
     				inputTextCpy = inputTextCpy.replaceAll(chords_major_small_brackets[i], chords_major_small_brackets_no_space[(i+1)%chords_major_small_brackets_no_space.length]+"@@");
			}

			// Minor
			for(let i =0; i<chords_minor_small_brackets.length; i++)
			{
     				inputTextCpy = inputTextCpy.replaceAll(chords_minor_small_brackets[i], chords_minor_small_brackets_no_space[(i+1)%chords_minor_small_brackets_no_space.length]+"@@");
			}

			// Major 7
                        for(let i =0; i<chords_major_7_small_brackets.length; i++)
			{
     				inputTextCpy = inputTextCpy.replaceAll(chords_major_7_small_brackets[i], chords_major_7_small_brackets_no_space[(i+1)%chords_major_7_small_brackets_no_space.length]+"@@");
			}

			// Minor 7
			for(let i =0; i<chords_minor_7_small_brackets.length; i++)
			{
     				inputTextCpy = inputTextCpy.replaceAll(chords_minor_7[i], chords_minor_7_small_brackets_no_space[(i+1)%chords_minor_7_small_brackets_no_space.length]+"@@");
			}

			////////// Regular /////////
			////// Big Brackets /////			
			// Major
                        for(let i =0; i<chords_major_big_brackets.length; i++)
			{
     				inputTextCpy = inputTextCpy.replaceAll(chords_major_big_brackets[i], chords_major_big_brackets_no_space[(i+1)%chords_major_big_brackets_no_space.length]+"@@");
			}

			// Minor
			for(let i =0; i<chords_minor_big_brackets.length; i++)
			{
     				inputTextCpy = inputTextCpy.replaceAll(chords_minor_big_brackets[i], chords_minor_big_brackets_no_space[(i+1)%chords_minor_big_brackets_no_space.length]+"@@");
			}

			// Major 7
                        for(let i =0; i<chords_major_7.length; i++)
			{
     				inputTextCpy = inputTextCpy.replaceAll(chords_major_7_big_brackets[i], chords_major_7_big_brackets_no_space[(i+1)%chords_major_7_big_brackets_no_space.length]+"@@");
			}

			// Minor 7
			for(let i =0; i<chords_minor_7.length; i++)
			{
     				inputTextCpy = inputTextCpy.replaceAll(chords_minor_7_big_brackets[i], chords_minor_7_big_brackets_no_space[(i+1)%chords_minor_7_big_brackets_no_space.length]+"@@");
			}

			inputTextCpy = inputTextCpy.replaceAll("@@", " ");
			inputTextCpy = inputTextCpy.replaceAll(" \n","\n");

		        return inputTextCpy;
		}

		// Update Text
		function transposeChords() {
			var inputTextAreaElement = document.getElementById("inputTextArea");

			var t = inputTextAreaElement.value;

                        t = transposeUp(t);

			inputTextAreaElement.value = t;			
		}

		// Replace Cm with Dm
		function transposeCm() {
		
			var inputTextAreaElement = document.getElementById("inputTextArea");
			
			// Method 1: Start
			var t = inputTextAreaElement.value.replaceAll('Cm', 'Dm');
			inputTextAreaElement.value = t;
			// Method 1: End
			
			// Method 2: Start
            		//var x = document.createElement("TEXTAREA");
			//x.cols = 100;
			//x.rows = 200;			
			//var tUpdated = inputTextAreaElement.value.replaceAll('cm', 'dm');
			//var t = document.createTextNode(tUpdated);			
			//x.appendChild(t);
			//document.body.appendChild(x);
			//inputTextAreaElement.remove();
			// Method 2: End			
		}
	  
	  
		// Scroll
		var btn_scroll = document.getElementById('ScrollText');
		var btn_stop = document.getElementById('StopScrollText');

		btn_scroll.addEventListener("click", function() {
		var step = parseFloat(document.getElementById("scrollSpeed").value);
		//var i = step;
		var i = window.pageYOffset;

		var int = setInterval(function() {
							window.scrollTo(0, i);			
							i += step; if(i>=20000) clearInterval(int);
		 				 }, step);
				
						btn_stop.addEventListener("click", function() {
							clearInterval(int);
						})

						window.addEventListener("resize", function() {
							clearInterval(int);
						})  
			})

		// Print
		function printTextArea() {
		        childWindow = window.open('','childWindow','location=yes, menubar=yes, toolbar=yes');
		        childWindow.document.open();
		        childWindow.document.write('<html><head></head><body>');
		        childWindow.document.write(document.getElementById("inputTextArea").value.replace(/\n/gi,'<br>'));
		        childWindow.document.write('</body></html>');
		        childWindow.print();
		        childWindow.document.close();
		        childWindow.close();
		      }
		
    </script>
  <body>
    <textarea id="inputTextArea" name="inputText" rows="200" cols="100"></textarea>
    <!--<textarea name="text" id="inputTextArea" oninput='this.style.height = "";this.style.height = this.scrollHeight + "px"'></textarea>-->
  </body>
</html>
